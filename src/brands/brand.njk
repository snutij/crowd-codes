---
pagination:
  data: brands
  size: 1
  alias: brand
permalink: "brands/{{ brand.slug }}/"
eleventyComputed:
  title: "Codes promo {{ brand.name }} - Crowd Codes"
  description: "Codes promo {{ brand.name }} vérifiés et récents. Sans pubs, sans friction."
---
{% extends "base.njk" %}

{% block content %}
<h1>Codes promo {{ brand.name }}</h1>

<section id="results" class="results-container" aria-label="Codes promo {{ brand.name }}">
  {% if brand.codes.length > 0 %}
    {% for code in brand.codes | sort(true, false, 'found_at') %}
      <article class="code-card" data-code-id="{{ code.id }}" data-code-value="{{ code.code }}">
        <div class="code-card-main">
          <code class="code-value">{{ code.code }}</code>
          <button class="copy-btn" type="button" aria-label="Copier le code {{ code.code }}">Copier</button>
        </div>
        <div class="code-card-meta">
          <span class="code-brand">{{ code.brand_name }}</span>
          <span class="code-date">{{ code.found_at | formatRelativeDate }}</span>
          {% if code.source_channel %}
            <span class="code-source">{{ code.source_channel }}</span>
          {% endif %}
        </div>
      </article>
    {% endfor %}
  {% else %}
    <div class="empty-state" role="status">
      <p class="empty-state-title">Aucun code trouvé pour {{ brand.name }}</p>
      <p class="empty-state-message">Nous surveillons les influenceurs YouTube chaque jour.</p>
      <p class="empty-state-suggestion">Revenez bientôt pour découvrir de nouveaux codes.</p>
    </div>
  {% endif %}
</section>

<p><a href="/">← Retour à la recherche</a></p>
{% endblock %}
